<tr id="<%= dom_id(product) %>" class="group hover:bg-slate-700/50 transition duration-200 border-b border-slate-700/50 last:border-0 block sm:table-row">
  <td class="px-6 py-4">
    <div class="flex items-center gap-4">
      <% if product.image.attached? %>
        <%= image_tag product.image.variant(resize_to_limit: [48, 48]), class: "w-12 h-12 rounded-lg object-cover border border-slate-600 bg-slate-700" %>
      <% else %>
        <div class="w-12 h-12 rounded-lg bg-slate-700 border border-slate-600 flex items-center justify-center text-slate-500">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/></svg>
        </div>
      <% end %>
      <div class="flex flex-col">
        <span class="font-medium text-white text-base"><%= product.name %></span>
        <span class="text-xs text-slate-400 line-clamp-1 max-w-[200px]"><%= product.description %></span>
      </div>
    </div>
  </td>
  <td class="px-6 py-4 text-slate-300 font-medium tabular-nums">
    <%= number_to_currency(product.price) %>
  </td>
  <td class="px-6 py-4">
    <div class="flex items-center justify-between max-w-[160px]">
      
      <div class="flex items-center bg-slate-900 border border-slate-700 rounded-lg shadow-sm overflow-hidden">
        <%= button_to adjust_stock_product_path(product, adjustment: "decrement"), 
            method: :patch, 
            class: "p-1.5 text-slate-400 hover:text-rose-400 hover:bg-rose-900/30 transition-colors border-r border-slate-800",
            title: "Decrease Stock" do %>
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4"/></svg>
        <% end %>

        <span class="w-10 text-center font-bold text-white text-sm">
          <%= product.quantity %>
        </span>

        <%= button_to adjust_stock_product_path(product, adjustment: "increment"), 
            method: :patch, 
            class: "p-1.5 text-slate-400 hover:text-emerald-400 hover:bg-emerald-900/30 transition-colors border-l border-slate-800",
            title: "Increase Stock" do %>
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/></svg>
        <% end %>
      </div>

      <% if product.out_of_stock? %>
          <span class="inline-flex items-center px-2 py-1 rounded-md text-xs font-bold bg-rose-900/30 text-rose-400 border border-rose-800 shadow-[0_0_10px_rgba(244,63,94,0.1)]">Out</span>
      <% elsif product.low_stock? %>
          <span class="inline-flex items-center px-2 py-1 rounded-md text-xs font-bold bg-amber-900/30 text-amber-400 border border-amber-800 shadow-[0_0_10px_rgba(245,158,11,0.1)]">Low</span>
      <% else %>
         <span class="inline-flex items-center px-2 py-1 rounded-md text-xs font-bold bg-emerald-900/30 text-emerald-400 border border-emerald-800 shadow-[0_0_10px_rgba(16,185,129,0.1)]">Ok</span>
      <% end %>

    </div>
  </td>
  <td class="px-6 py-4 text-right">
    <div class="flex justify-end items-center gap-2">
      <%= link_to edit_product_path(product), class: "p-2 text-slate-400 hover:text-indigo-400 hover:bg-indigo-900/30 rounded-lg transition-all", title: "Edit", data: { turbo_frame: "modal" } do %>
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/></svg>
      <% end %>
      
      <%= button_to product_path(product), method: :delete, class: "p-2 text-slate-400 hover:text-rose-400 hover:bg-rose-900/30 rounded-lg transition-all", title: "Delete", data: { turbo_confirm: "Delete this product?" } do %>
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/></svg>
      <% end %>
    </div>
  </td>
</tr>
